tabs:
  main:
    display: Main
    sections:
      -
        display: 'Subject of review'
        fields:
          -
            handle: reviewable_type
            field:
              options:
                -
                  key: movie
                  value: Movie
                -
                  key: book
                  value: Book
              clearable: true
              type: select
              display: 'Subject type'
              listable: false
              sortable: false
              replicator_preview: false
              duplicate: false
              validate:
                - required
          -
            handle: movie_id
            field:
              type: belongs_to
              display: Movie
              resource: movie
              create: false
              listable: false
              sortable: false
              replicator_preview: false
              duplicate: false
              if:
                reviewable_type: 'equals App\Models\Movie'
              validate:
                - 'required_if:reviewable_type,App\Models\Movie'
          -
            handle: book_id
            field:
              type: belongs_to
              display: Book
              resource: book
              create: false
              listable: false
              sortable: false
              replicator_preview: false
              duplicate: false
              if:
                reviewable_type: 'equals App\Models\Book'
              validate:
                - 'required_if:reviewable_type,App\Models\Book'
      -
        display: Information
        fields:
          -
            handle: title
            field:
              type: text
              validate:
                - required
          -
            handle: slug
            field:
              type: slug
              localizable: true
              validate: 'max:200'
              listable: false
              sortable: false
          -
            handle: score
            field:
              type: integer
              display: score
              listable: false
              sortable: false
              replicator_preview: false
              duplicate: false
              validate:
                - required
                - 'min:0'
                - 'max:10'
          -
            handle: excerpt
            field:
              type: textarea
              display: Excerpt
              listable: false
              sortable: false
          -
            handle: image
            field:
              max_files: 1
              container: default
              type: assets
              display: image
              listable: false
              sortable: false
          -
            handle: published_at
            field:
              type: date
              display: 'Published at'
              listable: true
          -
            handle: is_published
            field:
              type: toggle
              display: Published
              listable: true
              replicator_preview: false
              duplicate: false
      -
        display: Content
        fields:
          -
            handle: blocks
            field:
              type: replicator
              display: Blocks
              listable: false
              sets:
                cms_content:
                  display: 'CMS content'
                  sets:
                    paragraph:
                      display: Paragraph
                      fields:
                        -
                          import: common.paragraph
                    image:
                      display: Image
                      fields:
                        -
                          import: common.image
                    map:
                      display: Map
                      fields:
                        -
                          import: common.map
                    call_to_action:
                      display: 'Call to Action'
                      fields:
                        -
                          import: common.call_to_action
title: Review
